(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{121:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t.n(s),r=t(2),l=t(146),m=t(142),c=t(24),i=t(169),o=t(26),u=t(25),d=(t(87),t(122)),p=t.n(d),g=t(11);const E=()=>{const[e,a]=Object(s.useContext)(g.a),[t,l]=Object(s.useState)(!1),[c,d]=Object(s.useState)(null),{register:E,errors:v,handleSubmit:w}=Object(i.a)({mode:"all"}),b=Object(r.k)();Object(s.useEffect)((()=>{e&&b.replace("/me")}),[e]);return n.a.createElement("main",{className:p.a.main},t?n.a.createElement("div",null,"Loading..."):n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:p.a.headerMessage},"Register now to save and track your progress. It's free, now and forever."),n.a.createElement("form",{onSubmit:w((async e=>{l(!0);try{const t=await o.a.post("signup",e),{data:s}=t;s.data?(Object(u.c)("token",s.data.token),o.a.get("/",{headers:{authorization:`Bearer ${s.data.token}`}}).then((({data:e})=>{a({...e.data})})).catch((e=>{console.log(e)}))):(d(s.message||s[0].msg),l(!1))}catch(c){d(c.message),l(!1)}})),className:"form "+p.a.signupForm},n.a.createElement("div",{className:"text "+p.a.errorMessage},v.email&&v.email.message||v.password&&v.password.message),n.a.createElement("div",null,n.a.createElement("div",{className:"text"},"Username"),n.a.createElement("input",{name:"username",ref:E,className:"input "+p.a.inputBox})),n.a.createElement("div",null,n.a.createElement("div",{className:"text"},"Email"),n.a.createElement("input",{name:"email",type:"email",ref:E({required:{value:!0,message:"Email required."},pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid email address."}}),className:"input "+p.a.inputBox})),n.a.createElement("div",null,n.a.createElement("div",{className:"text"},"Password"),n.a.createElement("input",{name:"password",type:"password",ref:E({required:{value:!0,message:"Password required."},minLength:{value:5,message:"Password should be at least 5 characters long."},maxLength:{value:30,message:"Password should be at least 5 characters long."}}),className:"input "+p.a.inputBox})),n.a.createElement("div",null,n.a.createElement("button",{type:"submit",className:"input button "+p.a.signupButton},"Sign Up")),n.a.createElement(m.a,{to:"/login",className:"text"},"Already have an account?"))))};a.default=function(){const e=Object(c.default)(),{siteConfig:a={}}=e;return n.a.createElement(l.a,{title:`Hello from ${a.title}`,description:"Description will go into a meta tag in <head />"},n.a.createElement(E,null))}}}]);